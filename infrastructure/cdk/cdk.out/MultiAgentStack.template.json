{
 "Resources": {
  "RAGDLQDCE342F2": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 1209600,
    "QueueName": "RAGWorkerDLQ"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGDLQ/Resource"
   }
  },
  "RAGQueryQueueE7AA1C2D": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "QueueName": "RAGQueryQueue",
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "RAGDLQDCE342F2",
       "Arn"
      ]
     },
     "maxReceiveCount": 5
    },
    "VisibilityTimeout": 40
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGQueryQueue/Resource"
   }
  },
  "ResponseTable0CB27BF7": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "request_id",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "request_id",
      "KeyType": "HASH"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/ResponseTable/Resource"
   }
  },
  "SubmitLambdaServiceRole98C85C39": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/SubmitLambda/ServiceRole/Resource"
   }
  },
  "SubmitLambdaServiceRoleDefaultPolicy52AC7FF0": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "sqs:SendMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "RAGQueryQueueE7AA1C2D",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SubmitLambdaServiceRoleDefaultPolicy52AC7FF0",
    "Roles": [
     {
      "Ref": "SubmitLambdaServiceRole98C85C39"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/SubmitLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "SubmitLambda8054545E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "edc4dce6876bab778cdd27ac816809f9ac188d2350eef5f75d42471d2f78e9b4.zip"
    },
    "Environment": {
     "Variables": {
      "QUEUE_URL": {
       "Ref": "RAGQueryQueueE7AA1C2D"
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Role": {
     "Fn::GetAtt": [
      "SubmitLambdaServiceRole98C85C39",
      "Arn"
     ]
    },
    "Runtime": "python3.11"
   },
   "DependsOn": [
    "SubmitLambdaServiceRoleDefaultPolicy52AC7FF0",
    "SubmitLambdaServiceRole98C85C39"
   ],
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/SubmitLambda/Resource",
    "aws:asset:path": "asset.edc4dce6876bab778cdd27ac816809f9ac188d2350eef5f75d42471d2f78e9b4",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "WorkerLambdaServiceRole33A0380F": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/WorkerLambda/ServiceRole/Resource"
   }
  },
  "WorkerLambdaServiceRoleDefaultPolicyFC3707DA": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "sqs:ReceiveMessage",
        "sqs:ChangeMessageVisibility",
        "sqs:GetQueueUrl",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "RAGQueryQueueE7AA1C2D",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ResponseTable0CB27BF7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": "bedrock:*",
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "WorkerLambdaServiceRoleDefaultPolicyFC3707DA",
    "Roles": [
     {
      "Ref": "WorkerLambdaServiceRole33A0380F"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/WorkerLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "WorkerLambdaBD11C0E2": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "772a46abeb7fe9ecadafc8d51d5549b3c33d067716fc5bf8fdad4d27854fdda2.zip"
    },
    "Environment": {
     "Variables": {
      "MODEL_NAME": "Claude",
      "MODEL_ID": "anthropic.claude-3-5-sonnet-20240620-v1:0",
      "KB_ID": "TTM1S81PC3",
      "RAG_ENDPOINT_URL": "https://bedrock-runtime.ap-southeast-1.amazonaws.com",
      "TABLE_NAME": {
       "Ref": "ResponseTable0CB27BF7"
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Role": {
     "Fn::GetAtt": [
      "WorkerLambdaServiceRole33A0380F",
      "Arn"
     ]
    },
    "Runtime": "python3.11",
    "Timeout": 50
   },
   "DependsOn": [
    "WorkerLambdaServiceRoleDefaultPolicyFC3707DA",
    "WorkerLambdaServiceRole33A0380F"
   ],
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/WorkerLambda/Resource",
    "aws:asset:path": "asset.772a46abeb7fe9ecadafc8d51d5549b3c33d067716fc5bf8fdad4d27854fdda2",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "WorkerLambdaSqsEventSourceMultiAgentStackRAGQueryQueue18E4E3D1E4C00FC9": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "BatchSize": 1,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "RAGQueryQueueE7AA1C2D",
      "Arn"
     ]
    },
    "FunctionName": {
     "Ref": "WorkerLambdaBD11C0E2"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/WorkerLambda/SqsEventSource:MultiAgentStackRAGQueryQueue18E4E3D1/Resource"
   }
  },
  "GetAnswerLambdaServiceRole64FB696C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/GetAnswerLambda/ServiceRole/Resource"
   }
  },
  "GetAnswerLambdaServiceRoleDefaultPolicyB16EF149": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ResponseTable0CB27BF7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GetAnswerLambdaServiceRoleDefaultPolicyB16EF149",
    "Roles": [
     {
      "Ref": "GetAnswerLambdaServiceRole64FB696C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/GetAnswerLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GetAnswerLambda6BA36A71": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "f36e54eb50b0b3c5a3dec54a66dd1ebf81b26ce1dc0bd88ec5936d261d7adacc.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "ResponseTable0CB27BF7"
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Role": {
     "Fn::GetAtt": [
      "GetAnswerLambdaServiceRole64FB696C",
      "Arn"
     ]
    },
    "Runtime": "python3.11"
   },
   "DependsOn": [
    "GetAnswerLambdaServiceRoleDefaultPolicyB16EF149",
    "GetAnswerLambdaServiceRole64FB696C"
   ],
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/GetAnswerLambda/Resource",
    "aws:asset:path": "asset.f36e54eb50b0b3c5a3dec54a66dd1ebf81b26ce1dc0bd88ec5936d261d7adacc",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetHistoryLambdaServiceRoleFF770ACA": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/GetHistoryLambda/ServiceRole/Resource"
   }
  },
  "GetHistoryLambdaServiceRoleDefaultPolicy4C9951C5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "ResponseTable0CB27BF7",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GetHistoryLambdaServiceRoleDefaultPolicy4C9951C5",
    "Roles": [
     {
      "Ref": "GetHistoryLambdaServiceRoleFF770ACA"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/GetHistoryLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GetHistoryLambdaBE7887F3": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "fa8ee8800021a14224e2702a7772d49cda2e0cf560b87d994492478176c1a1fa.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "ResponseTable0CB27BF7"
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Role": {
     "Fn::GetAtt": [
      "GetHistoryLambdaServiceRoleFF770ACA",
      "Arn"
     ]
    },
    "Runtime": "python3.11"
   },
   "DependsOn": [
    "GetHistoryLambdaServiceRoleDefaultPolicy4C9951C5",
    "GetHistoryLambdaServiceRoleFF770ACA"
   ],
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/GetHistoryLambda/Resource",
    "aws:asset:path": "asset.fa8ee8800021a14224e2702a7772d49cda2e0cf560b87d994492478176c1a1fa",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "PresignedURLFunctionServiceRole987E2914": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/PresignedURLFunction/ServiceRole/Resource"
   }
  },
  "PresignedURLFunctionServiceRoleDefaultPolicy76F6C284": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::bedrock-kb-cloudops"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::bedrock-kb-cloudops/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "PresignedURLFunctionServiceRoleDefaultPolicy76F6C284",
    "Roles": [
     {
      "Ref": "PresignedURLFunctionServiceRole987E2914"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/PresignedURLFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "PresignedURLFunctionD44318B5": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "c6681cd496428d185bae5e14cd0e579c996a943d3dc2f601810c158632ac8c4d.zip"
    },
    "Environment": {
     "Variables": {
      "BUCKET_NAME": "bedrock-kb-cloudops"
     }
    },
    "Handler": "lambda_function.handler",
    "Role": {
     "Fn::GetAtt": [
      "PresignedURLFunctionServiceRole987E2914",
      "Arn"
     ]
    },
    "Runtime": "python3.11"
   },
   "DependsOn": [
    "PresignedURLFunctionServiceRoleDefaultPolicy76F6C284",
    "PresignedURLFunctionServiceRole987E2914"
   ],
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/PresignedURLFunction/Resource",
    "aws:asset:path": "asset.c6681cd496428d185bae5e14cd0e579c996a943d3dc2f601810c158632ac8c4d",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ApiGatewayAccessLogsFB871B4C": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 731
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/ApiGatewayAccessLogs/Resource"
   }
  },
  "ApiGatewayCloudWatchRole86F22A4D": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/ApiGatewayCloudWatchRole/Resource"
   }
  },
  "RAGMultiAgentAPIB3A8E7C6": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Name": "RAG Multi-Agent API"
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Resource"
   }
  },
  "RAGMultiAgentAPICloudWatchRole2D2981D4": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/CloudWatchRole/Resource"
   }
  },
  "RAGMultiAgentAPIAccount7DEDF533": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "RAGMultiAgentAPICloudWatchRole2D2981D4",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "RAGMultiAgentAPIB3A8E7C6"
   ],
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Account"
   }
  },
  "RAGMultiAgentAPIDeployment292FFC9A9c763766b02675fb496d8b317a54d4c7": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Automatically created by the RestApi construct",
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "DependsOn": [
    "RAGMultiAgentAPIaskOPTIONS5BDE296D",
    "RAGMultiAgentAPIaskPOST16E40B6B",
    "RAGMultiAgentAPIaskB6BD6581",
    "RAGMultiAgentAPIgetanswerOPTIONSEE6DE109",
    "RAGMultiAgentAPIgetanswerPOST3164CF6B",
    "RAGMultiAgentAPIgetanswerFD8B4365",
    "RAGMultiAgentAPIgethistoryGET07C28E96",
    "RAGMultiAgentAPIgethistoryOPTIONSDC785766",
    "RAGMultiAgentAPIgethistory49798F53",
    "RAGMultiAgentAPIpresignedurlOPTIONS58D10C06",
    "RAGMultiAgentAPIpresignedurlPOSTB21C43D1",
    "RAGMultiAgentAPIpresignedurl383FDD07"
   ],
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Deployment/Resource"
   }
  },
  "RAGMultiAgentAPIDeploymentStageprodB82550D9": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "AccessLogSetting": {
     "DestinationArn": {
      "Fn::GetAtt": [
       "ApiGatewayAccessLogsFB871B4C",
       "Arn"
      ]
     },
     "Format": "{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"user\":\"$context.identity.user\",\"caller\":\"$context.identity.caller\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"
    },
    "DeploymentId": {
     "Ref": "RAGMultiAgentAPIDeployment292FFC9A9c763766b02675fb496d8b317a54d4c7"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "ResourcePath": "/*",
      "ThrottlingBurstLimit": 5,
      "ThrottlingRateLimit": 10
     }
    ],
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    },
    "StageName": "prod"
   },
   "DependsOn": [
    "RAGMultiAgentAPIAccount7DEDF533"
   ],
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/DeploymentStage.prod/Resource"
   }
  },
  "RAGMultiAgentAPIaskB6BD6581": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "RAGMultiAgentAPIB3A8E7C6",
      "RootResourceId"
     ]
    },
    "PathPart": "ask",
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/ask/Resource"
   }
  },
  "RAGMultiAgentAPIaskPOSTApiPermissionMultiAgentStackRAGMultiAgentAPI9107A53BPOSTaskE55D3F5A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SubmitLambda8054545E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "RAGMultiAgentAPIB3A8E7C6"
       },
       "/",
       {
        "Ref": "RAGMultiAgentAPIDeploymentStageprodB82550D9"
       },
       "/POST/ask"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/ask/POST/ApiPermission.MultiAgentStackRAGMultiAgentAPI9107A53B.POST..ask"
   }
  },
  "RAGMultiAgentAPIaskPOSTApiPermissionTestMultiAgentStackRAGMultiAgentAPI9107A53BPOSTask48786D2C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SubmitLambda8054545E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "RAGMultiAgentAPIB3A8E7C6"
       },
       "/test-invoke-stage/POST/ask"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/ask/POST/ApiPermission.Test.MultiAgentStackRAGMultiAgentAPI9107A53B.POST..ask"
   }
  },
  "RAGMultiAgentAPIaskPOST16E40B6B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SubmitLambda8054545E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "RAGMultiAgentAPIaskB6BD6581"
    },
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/ask/POST/Resource"
   }
  },
  "RAGMultiAgentAPIaskOPTIONS5BDE296D": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "RAGMultiAgentAPIaskB6BD6581"
    },
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/ask/OPTIONS/Resource"
   }
  },
  "RAGMultiAgentAPIgetanswerFD8B4365": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "RAGMultiAgentAPIB3A8E7C6",
      "RootResourceId"
     ]
    },
    "PathPart": "get-answer",
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-answer/Resource"
   }
  },
  "RAGMultiAgentAPIgetanswerPOSTApiPermissionMultiAgentStackRAGMultiAgentAPI9107A53BPOSTgetanswer1562F4DE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetAnswerLambda6BA36A71",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "RAGMultiAgentAPIB3A8E7C6"
       },
       "/",
       {
        "Ref": "RAGMultiAgentAPIDeploymentStageprodB82550D9"
       },
       "/POST/get-answer"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-answer/POST/ApiPermission.MultiAgentStackRAGMultiAgentAPI9107A53B.POST..get-answer"
   }
  },
  "RAGMultiAgentAPIgetanswerPOSTApiPermissionTestMultiAgentStackRAGMultiAgentAPI9107A53BPOSTgetanswerB0E67565": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetAnswerLambda6BA36A71",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "RAGMultiAgentAPIB3A8E7C6"
       },
       "/test-invoke-stage/POST/get-answer"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-answer/POST/ApiPermission.Test.MultiAgentStackRAGMultiAgentAPI9107A53B.POST..get-answer"
   }
  },
  "RAGMultiAgentAPIgetanswerPOST3164CF6B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetAnswerLambda6BA36A71",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "RAGMultiAgentAPIgetanswerFD8B4365"
    },
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-answer/POST/Resource"
   }
  },
  "RAGMultiAgentAPIgetanswerOPTIONSEE6DE109": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "RAGMultiAgentAPIgetanswerFD8B4365"
    },
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-answer/OPTIONS/Resource"
   }
  },
  "RAGMultiAgentAPIgethistory49798F53": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "RAGMultiAgentAPIB3A8E7C6",
      "RootResourceId"
     ]
    },
    "PathPart": "get-history",
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-history/Resource"
   }
  },
  "RAGMultiAgentAPIgethistoryGETApiPermissionMultiAgentStackRAGMultiAgentAPI9107A53BGETgethistoryD4354695": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetHistoryLambdaBE7887F3",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "RAGMultiAgentAPIB3A8E7C6"
       },
       "/",
       {
        "Ref": "RAGMultiAgentAPIDeploymentStageprodB82550D9"
       },
       "/GET/get-history"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-history/GET/ApiPermission.MultiAgentStackRAGMultiAgentAPI9107A53B.GET..get-history"
   }
  },
  "RAGMultiAgentAPIgethistoryGETApiPermissionTestMultiAgentStackRAGMultiAgentAPI9107A53BGETgethistory61D76101": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetHistoryLambdaBE7887F3",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "RAGMultiAgentAPIB3A8E7C6"
       },
       "/test-invoke-stage/GET/get-history"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-history/GET/ApiPermission.Test.MultiAgentStackRAGMultiAgentAPI9107A53B.GET..get-history"
   }
  },
  "RAGMultiAgentAPIgethistoryGET07C28E96": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetHistoryLambdaBE7887F3",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "RAGMultiAgentAPIgethistory49798F53"
    },
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-history/GET/Resource"
   }
  },
  "RAGMultiAgentAPIgethistoryOPTIONSDC785766": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "RAGMultiAgentAPIgethistory49798F53"
    },
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/get-history/OPTIONS/Resource"
   }
  },
  "RAGMultiAgentAPIpresignedurl383FDD07": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "RAGMultiAgentAPIB3A8E7C6",
      "RootResourceId"
     ]
    },
    "PathPart": "presigned-url",
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/presigned-url/Resource"
   }
  },
  "RAGMultiAgentAPIpresignedurlPOSTApiPermissionMultiAgentStackRAGMultiAgentAPI9107A53BPOSTpresignedurlAF9B0FA7": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PresignedURLFunctionD44318B5",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "RAGMultiAgentAPIB3A8E7C6"
       },
       "/",
       {
        "Ref": "RAGMultiAgentAPIDeploymentStageprodB82550D9"
       },
       "/POST/presigned-url"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/presigned-url/POST/ApiPermission.MultiAgentStackRAGMultiAgentAPI9107A53B.POST..presigned-url"
   }
  },
  "RAGMultiAgentAPIpresignedurlPOSTApiPermissionTestMultiAgentStackRAGMultiAgentAPI9107A53BPOSTpresignedurl2CF5CFE5": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PresignedURLFunctionD44318B5",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "RAGMultiAgentAPIB3A8E7C6"
       },
       "/test-invoke-stage/POST/presigned-url"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/presigned-url/POST/ApiPermission.Test.MultiAgentStackRAGMultiAgentAPI9107A53B.POST..presigned-url"
   }
  },
  "RAGMultiAgentAPIpresignedurlPOSTB21C43D1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "PresignedURLFunctionD44318B5",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "RAGMultiAgentAPIpresignedurl383FDD07"
    },
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/presigned-url/POST/Resource"
   }
  },
  "RAGMultiAgentAPIpresignedurlOPTIONS58D10C06": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'POST'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "RAGMultiAgentAPIpresignedurl383FDD07"
    },
    "RestApiId": {
     "Ref": "RAGMultiAgentAPIB3A8E7C6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/RAGMultiAgentAPI/Default/presigned-url/OPTIONS/Resource"
   }
  },
  "DLQAlarm77626DBA": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "AlarmDescription": "DLQ has messages pending!",
    "ComparisonOperator": "GreaterThanOrEqualToThreshold",
    "Dimensions": [
     {
      "Name": "QueueName",
      "Value": {
       "Fn::GetAtt": [
        "RAGDLQDCE342F2",
        "QueueName"
       ]
      }
     }
    ],
    "EvaluationPeriods": 1,
    "MetricName": "ApproximateNumberOfMessagesVisible",
    "Namespace": "AWS/SQS",
    "Period": 300,
    "Statistic": "Maximum",
    "Threshold": 1
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/DLQAlarm/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/22QTU/DMAyGf8vuWYD1wrUbHxcmRsd9clOvC0uTUjtMVZT/jpJuDCROfmwn72t7Ie8W9/J2Bieaq+Y4N7qWYcugjgJOtAv0STK8efQoVnubIYpmtNC5ppbhHWqTOxmiMNDVDcjw5K1i7Wxq/fDjF1reOj8oXEPfa9um9v/VDQ6dJtLORqGhk6Fyk1GOG2e0GvO7TFFQsQMiZJJlCoIKufTqiLwEQmFcSzK8uPZ5cL5P/y4cBfS6BcYTjDJUSFz2OvtcsVTKecviAXvjxg4tp+qvbMvQ5uEmqJDyOtn6kpw1J14jH1yTShNFoYzzzQlYHWQoDQxdNk4Q41Uj75ZMzld69dx7/iO92tuVs43mfLrNyAdnbwp5V8hi9kFazwdvWXcoqyl+A2eR560BAgAA"
   },
   "Metadata": {
    "aws:cdk:path": "MultiAgentStack/CDKMetadata/Default"
   },
   "Condition": "CDKMetadataAvailable"
  }
 },
 "Outputs": {
  "RAGMultiAgentAPIEndpoint323577B6": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "RAGMultiAgentAPIB3A8E7C6"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "RAGMultiAgentAPIDeploymentStageprodB82550D9"
      },
      "/"
     ]
    ]
   }
  },
  "SubmitLambdaName": {
   "Value": {
    "Ref": "SubmitLambda8054545E"
   },
   "Export": {
    "Name": "SubmitLambdaName"
   }
  },
  "WorkerLambdaName": {
   "Value": {
    "Ref": "WorkerLambdaBD11C0E2"
   },
   "Export": {
    "Name": "WorkerLambdaName"
   }
  },
  "GetAnswerLambdaName": {
   "Value": {
    "Ref": "GetAnswerLambda6BA36A71"
   },
   "Export": {
    "Name": "GetAnswerLambdaName"
   }
  },
  "GetHistoryLambdaName": {
   "Value": {
    "Ref": "GetHistoryLambdaBE7887F3"
   },
   "Export": {
    "Name": "GetHistoryLambdaName"
   }
  },
  "ApiBaseUrl": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "RAGMultiAgentAPIB3A8E7C6"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "RAGMultiAgentAPIDeploymentStageprodB82550D9"
      },
      "/"
     ]
    ]
   },
   "Export": {
    "Name": "RAGApiUrl"
   }
  },
  "RagQueueUrl": {
   "Value": {
    "Ref": "RAGQueryQueueE7AA1C2D"
   },
   "Export": {
    "Name": "RagQueueUrl"
   }
  },
  "DLQUrl": {
   "Value": {
    "Ref": "RAGDLQDCE342F2"
   },
   "Export": {
    "Name": "DLQUrl"
   }
  },
  "ResponseTableName": {
   "Value": {
    "Ref": "ResponseTable0CB27BF7"
   },
   "Export": {
    "Name": "ResponseTableName"
   }
  },
  "PresignLambdaName": {
   "Value": {
    "Ref": "PresignedURLFunctionD44318B5"
   },
   "Export": {
    "Name": "PresignLambdaName"
   }
  },
  "PresignApiUrl": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "RAGMultiAgentAPIB3A8E7C6"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "RAGMultiAgentAPIDeploymentStageprodB82550D9"
      },
      "/presigned-url"
     ]
    ]
   },
   "Export": {
    "Name": "PresignApiUrl"
   }
  },
  "ExportsOutputRefWorkerLambdaBD11C0E2596AD6C6": {
   "Value": {
    "Ref": "WorkerLambdaBD11C0E2"
   },
   "Export": {
    "Name": "MultiAgentStack:ExportsOutputRefWorkerLambdaBD11C0E2596AD6C6"
   }
  },
  "ExportsOutputRefSubmitLambda8054545E5BCCAFFD": {
   "Value": {
    "Ref": "SubmitLambda8054545E"
   },
   "Export": {
    "Name": "MultiAgentStack:ExportsOutputRefSubmitLambda8054545E5BCCAFFD"
   }
  },
  "ExportsOutputFnGetAttRAGQueryQueueE7AA1C2DQueueNameC2CC6DFE": {
   "Value": {
    "Fn::GetAtt": [
     "RAGQueryQueueE7AA1C2D",
     "QueueName"
    ]
   },
   "Export": {
    "Name": "MultiAgentStack:ExportsOutputFnGetAttRAGQueryQueueE7AA1C2DQueueNameC2CC6DFE"
   }
  },
  "ExportsOutputFnGetAttRAGDLQDCE342F2QueueName8F3BB285": {
   "Value": {
    "Fn::GetAtt": [
     "RAGDLQDCE342F2",
     "QueueName"
    ]
   },
   "Export": {
    "Name": "MultiAgentStack:ExportsOutputFnGetAttRAGDLQDCE342F2QueueName8F3BB285"
   }
  }
 },
 "Conditions": {
  "CDKMetadataAvailable": {
   "Fn::Or": [
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "af-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ca-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-northwest-1"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-3"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "il-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "sa-east-1"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-2"
       ]
      }
     ]
    }
   ]
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}